<div class="container mb-5">
  <div class="card-cocktail">

    <div class="card-image" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.2)),
            url('<%= cl_image_path @cocktail.photo, height: 300, width: 400, crop: :fill %>')">
    </div>
    <div class="card-cocktail-details">
      <h1><%= @cocktail.name %></h1>
      <h4>Description</h4>

      <ul class="list-group">
        <% @doses.each do |dose| %>
        <div class="list-group d-flex flex-row">
          <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
            <div class="d-flex w-100 justify-content-between">
              <h5 class="mb-1"><%=dose.ingredient.name%></h5>
              <small class="text-muted"><%=dose.amount%> cl</small>
            </div>
            <p class="mb-1"><%=dose.description%></p>
            <small><%= link_to dose_path(dose), 
                    method: :delete,
                    data: { confirm: "Are you sure?" }, class: 'text-muted'  do %>
              x
              <% end %>
              <%= link_to "+", new_cocktail_dose_path(@cocktail), class: 'text-muted'  %>

            </small>
          </a>
        </div>
        <% end %>


        <ul class="list-group fixed-bottom">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <%= link_to "Back to list", cocktails_path, class: "btn btn-secondary" %>
            <%= link_to "+", new_cocktail_dose_path(@cocktail), class: 'text-muted'  %>
          </li>
        </ul>

    </div>
  </div>

</div>